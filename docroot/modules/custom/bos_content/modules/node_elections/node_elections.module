<?php

use Drupal\Core\Form\FormStateInterface;

/**
 * Implements hook_preprocess_HOOK().
 */
function node_selections_preprocess_node(&$variables, $a) {

  if (isset($variables["node"]) && in_array($variables["node"]->bundle(), [
      "election_report",
      "node_election_uploader",
    ])) {
    $variables['#attached']['library'][] = 'node_elections/election';
  }

}
/**
 * Implements hook_preprocess_HOOK().
 */
function node_elections_preprocess_node(&$variables, $a) {

  if (isset($variables["node"]) && in_array($variables["node"]->bundle(), [
      "election_report",
    ])) {
    $variables['#attached']['library'][] = 'node_elections/election';
  }

}

/**
 * Implements hook_preprocess_HOOK().
 */
function node_elections_preprocess_paragraph(&$variables) {
  if (isset($variables["paragraph"]) && in_array($variables["paragraph"]->bundle(), [
    'election_area_results'
  ])) {
  }
}

/**
 * Implements hook_form_alter().
 */
function node_elections_form_alter(&$form, FormStateInterface $form_state, $form_id) {
  if (in_array($form_id, [
    "node_election_report_form",
    "node_election_report_edit_form",
  ])) {
    $form["#attached"]["library"][] = 'node_elections/election_admin';
  }
}

/**
 * Implements hook_preprocess_HOOK().
 */
function node_elections_preprocess_taxonomy_term(&$variables) {
  if (isset($variables["term"]) && in_array($variables["term"]->bundle(), [
      "elections",
      "election_areas",
      "elector_groups",
      "election_candidates",
      "election_contests",
    ])) {
    $variables['#attached']['library'][] = 'node_elections/election';
  }
}

/**
 * Implements hook_paragraph_HOOK_summary_alter().
 */
function node_elections_paragraph_election_area_results_summary_alter(array $form_widget, array $para, array $attributes) {
  // TODO: (optionally) Add some summary text here for the elections paragraphs.
}
