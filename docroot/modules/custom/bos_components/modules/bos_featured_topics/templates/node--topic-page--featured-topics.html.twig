{#
 * @file
 * Returns the HTML for a Topic node displayed via Featured Guides view mode.
 *
 * Complete documentation for this file is available online.
 *
 * @see https://drupal.org/node/1728164
 #}

 {% set guide_themes = [
   'ob',
   'cb',
   'r',
   'cb',
   'cb',
   'r',
   'cb',
   'ob',
   'ob',
   'cb',
   'r',
   'cb',
   'cb',
   'r',
   'cb',
   'ob',
 ] %}

{#
 if (!isset($GLOBALS["featured_guide_count"])) {
   $GLOBALS["featured_guide_count"] = 0;
 } else {
   $GLOBALS["featured_guide_count"]++;
 }

 $guide_index = $GLOBALS["featured_guide_count"] + 1;
 $guide_theme = $guide_themes[$GLOBALS["featured_guide_count"]];
#}

<a href="{{ url }}"
   class="cdfg cdfg--{{ guide_themes[topics_counter -1] }}"
   style="background-image: url({{ file_url(content.field_thumbnail['#items'].entity.uri.value) }})"
>
  <div class="cdfg-c">
    <div class="cdfg-i">
      <span>{{ topics_counter }}</span>
    </div>
    <div class="cdfg-ic">
      <div class="cdfg-d">Guide:</div>
      <div class="cdfg-t">{% filter trim %}{% filter striptags %}{{ title }}{% endfilter %}{% endfilter %}</div>
    </div>
  </div>
</a>
