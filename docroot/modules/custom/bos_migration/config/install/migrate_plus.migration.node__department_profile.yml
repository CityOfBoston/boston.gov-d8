id: node__department_profile
label: "Department Profile"
class: Drupal\migrate\Plugin\Migration
audit: 1
migration_tags:
  - Drupal 7
  - Content
migration_group: bos_nodes
migration_dependencies:
  required:
    - d7_user

source:
  plugin: d7_node
  node_type: department_profile

process:
  id: item_id
  revision_id: revision_id
  nid: tnid
  vid: vid
  langcode:
    plugin: default_value
    source: language
    fallback_to_site_default: true
  title: title
  uid: node_uid
  status: status
  created: created
  changed: changed
  promote: promote
  sticky: sticky
  revision_uid: revision_uid
  revision_log: log
  revision_timestamp: timestamp
  body:
    plugin: get
    source: body
  field_components:
    plugin: get
    source: field_components
  field_email:
    plugin: get
    source: field_email
  field_icon:
    plugin: sub_process
    source: field_icon
    process:
      target_id: fid
      alt: alt
      title: title
      width: width
      height: height
  field_intro_text:
    plugin: get
    source: field_intro_text
  field_operation_hours:
    plugin: get
    source: field_operation_hours
  field_phone_number:
    plugin: get
    source: field_phone_number
  field_address:
    plugin: addressfield
    source: field_address
  field_department_type:
    plugin: get
    source: field_department_type
  field_sidebar_components:
    plugin: sub_process
    source: field_sidebar_components
    process:
      target_id:
        -
          plugin: migration_lookup
          migration:
            - paragraph__3_column_w_image
            - paragraph__bid
            - paragraph__bos311
            - paragraph__bos_signup_emergency_alerts
            - paragraph__cabinet
            - paragraph__card
            - paragraph__city_score_dashboard
            - paragraph__columns
            - paragraph__commission_contact_info
            - paragraph__commission_members
            - paragraph__commission_summary
            - paragraph__custom_hours_text
            - paragraph__daily_hours
            - paragraph__discussion_topic
            - paragraph__document
            - paragraph__drawer
            - paragraph__drawers
            - paragraph__election_results
            - paragraph__external_link
            - paragraph__featured_topics
            - paragraph__from_library
            - paragraph__fyi
            - paragraph__gol_list_links
            - paragraph__grid_links
            - paragraph__grid_of_cards
            - paragraph__grid_of_people
            - paragraph__grid_of_places
            - paragraph__grid_of_programs_initiatives
            - paragraph__grid_of_quotes
            - paragraph__grid_of_topics
            - paragraph__group_of_links_grid
            - paragraph__group_of_links_list
            - paragraph__group_of_links_mini_grid
            - paragraph__header_text
            - paragraph__hero_image
            - paragraph__how_to_contact_step
            - paragraph__how_to_tab
            - paragraph__how_to_text_step
            - paragraph__iframe
            - paragraph__internal_link
            - paragraph__lightbox_link
            - paragraph__list
            - paragraph__map
            - paragraph__message_for_the_day
            - paragraph__news_announcements
            - paragraph__newsletter
            - paragraph__photo
            - paragraph__quote
            - paragraph__seamless_doc
            - paragraph__sidebar_item
            - paragraph__sidebar_item_w_icon
            - paragraph__social_media_links
            - paragraph__social_networking
            - paragraph__text
            - paragraph__text_one_column
            - paragraph__text_three_column
            - paragraph__text_two_column
            - paragraph__transaction_grid
            - paragraph__transactions
            - paragraph__upcoming_events
          source: value
        -
          plugin: extract
          index:
            - 0
      target_revision_id:
        -
          plugin: migration_lookup
          migration:
            - paragraph__3_column_w_image
            - paragraph__bid
            - paragraph__bos311
            - paragraph__bos_signup_emergency_alerts
            - paragraph__cabinet
            - paragraph__card
            - paragraph__city_score_dashboard
            - paragraph__columns
            - paragraph__commission_contact_info
            - paragraph__commission_members
            - paragraph__commission_summary
            - paragraph__custom_hours_text
            - paragraph__daily_hours
            - paragraph__discussion_topic
            - paragraph__document
            - paragraph__drawer
            - paragraph__drawers
            - paragraph__election_results
            - paragraph__external_link
            - paragraph__featured_topics
            - paragraph__from_library
            - paragraph__fyi
            - paragraph__gol_list_links
            - paragraph__grid_links
            - paragraph__grid_of_cards
            - paragraph__grid_of_people
            - paragraph__grid_of_places
            - paragraph__grid_of_programs_initiatives
            - paragraph__grid_of_quotes
            - paragraph__grid_of_topics
            - paragraph__group_of_links_grid
            - paragraph__group_of_links_list
            - paragraph__group_of_links_mini_grid
            - paragraph__header_text
            - paragraph__hero_image
            - paragraph__how_to_contact_step
            - paragraph__how_to_tab
            - paragraph__how_to_text_step
            - paragraph__iframe
            - paragraph__internal_link
            - paragraph__lightbox_link
            - paragraph__list
            - paragraph__map
            - paragraph__message_for_the_day
            - paragraph__news_announcements
            - paragraph__newsletter
            - paragraph__photo
            - paragraph__quote
            - paragraph__seamless_doc
            - paragraph__sidebar_item
            - paragraph__sidebar_item_w_icon
            - paragraph__social_media_links
            - paragraph__social_networking
            - paragraph__text
            - paragraph__text_one_column
            - paragraph__text_three_column
            - paragraph__text_two_column
            - paragraph__transaction_grid
            - paragraph__transactions
            - paragraph__upcoming_events
          source: value
        -
          plugin: extract
          index:
            - 1
  field_published_date:
    plugin: sub_process
    source: field_published_date
    process:
      value:
        plugin: format_date
        from_format: Y-m-d\TH:i:s
        to_format: Y-m-d\TH:i:s
        source: value
  field_updated_date:
    plugin: sub_process
    source: field_updated_date
    process:
      value:
        plugin: format_date
        from_format: Y-m-d\TH:i:s
        to_format: Y-m-d\TH:i:s
        source: value
  field_type_of_content:
    plugin: get
    source: field_type_of_content
  field_hide_contact_form:
    plugin: get
    source: field_hide_contact_form

destination:
  plugin: entity:node
  default_bundle: department_profile
