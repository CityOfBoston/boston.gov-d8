!function(t,e,i,n){"use strict";for(var s=n.getElementsByClassName("live-stream"),o=s.length;o--;)s[o].innerHTML="Watch it live"}(jQuery,Drupal,this,this.document),function(t,e,i,n){"use strict";t(".drawer").length&&(t(".drawer-trigger").click(function(){t(this).hasClass("active")?(t(this).toggleClass("active").next(".active").toggleClass("active").slideUp(400),t("#query").blur()):(t(this).toggleClass("active").next(".drawer").toggleClass("active").slideDown(400),t(this).parent(".drawer-wrapper").siblings(".drawer-wrapper").children(".drawer").removeClass("active").slideUp(400),t(this).parent(".drawer-wrapper").siblings(".drawer-wrapper").children(".drawer-trigger").removeClass("active"),t(this).hasClass("search-trigger")&&(t("#query").focus(),t("input[name=search_block_form]").focus()))}),t(".drawer-close-button").click(function(){t(this).closest(".drawer.active").toggleClass("active").slideUp(400).prev(".drawer-trigger.active").toggleClass("active"),t("#query").blur()})),t(".drawer.mobile-only").length&&t(i).resize(function(){t(".active").removeClass("active"),t(i).width()>980&&t(".drawer.mobile-only").css("display","")}),t(n).on("keydown",function(e){70==e.keyCode&&(e.ctrlKey||e.metaKey)&&t(".dr-h").each(function(){t(this).hasClass("expanded")||(t(this).click(),t(this).addClass("expanded"))}),27==e.keyCode&&t(".dr-h").each(function(){t(this).hasClass("expanded")&&(t(this).click(),t(this).removeClass("expanded"))})}),t(".dr-h").click(function(){t(this).hasClass("expanded")?t(this).removeClass("expanded"):t(this).addClass("expanded")})}(jQuery,Drupal,this,this.document),function(t,e,i,n){"use strict";t(".dr").length&&(t(".dr__content").hide().attr("aria-hidden",!0),t(".dr__header").click(function(){var e=t(this),i=e.hasClass("dr__header--active"),n=e.siblings(".dr__content");e.toggleClass("dr__header--active"),i?n.slideUp().attr("aria-hidden",!0):n.slideDown().attr("aria-hidden",!1)}))}(jQuery,Drupal,this,this.document),function(t,e,i,n){"use strict";t(i).on("load resize",function(){if(t(i).width()>980){var e=t(".featured-item-details").outerHeight();t(".featured-item-thumb").css("height",e+"px")}})}(jQuery,Drupal,this,this.document),function(t,e,i,n){"use strict";i.circle_count=0,t(n).on("click",".vote-button",function(){var e=t(this).prev(".choice_text").text();t('label:contains("'+e+'")').prev("input[type=radio]").prop("checked",!0).change()}),t(n).on("change","input[type=radio]",function(){var e=t(this).closest("form");t("input[type=submit]",e).mousedown()}),(t(".node-advpoll").length||t(".paragraphs-item-feedback").length)&&(e.behaviors.renderRawPoll={attach:function(n,s){t(".poll-stub").once("poll-stub").each(function(){var o=t(this).data("poll-id"),a={url:i.location.protocol+"//"+i.location.hostname+s.basePath+s.pathPrefix+"ajax/poll/"+o,event:"click",progress:{type:"throbber"}};t.ajax(a.url).done(function(i){i=JSON.parse(i),t(i.selector).html(i.html),e.attachBehaviors(n,s)})})}},e.behaviors.pollConvertForm={attach:function(i,s){if(t.fn.createBosCircle=function(){t(this).each(function(){var e="circle-container-"+circle_count++;t(this).attr("id",e);var i=t(this).data("percent"),n=t(this).data("text");Circles.create({id:e,radius:66,value:i,maxValue:100,width:12,text:i+"%",colors:["#ececec","#091f2f"],duration:200,wrpClass:"circles-wrp",textClass:"circles-text",valueStrokeClass:"circles-valueStroke",maxValueStrokeClass:"circles-maxValueStroke",styleWrapper:!0,styleText:!1}),t("#"+e).find(".circles-wrp").after('<div class="choice_text">'+n+"</div>")})},t("div.circles_container").once("circle-generate").createBosCircle(),null!==e.settings.bos_content_type_advpoll){var o=e.settings.bos_content_type_advpoll;o.forEach(function(e){var i=new RegExp("(advpoll"+e.poll_options.poll_id+"=vote)","g");t("#advpoll-form-"+e.poll_options.poll_id+" .circles_container").each(function(){n.cookie.match(i)||t(this).once("vote-button-add").append('<button class="vote-button button-sm" type="button">'+e.poll_options.vote_button_text+"</button>")})})}}})}(jQuery,Drupal,this,this.document),function(t,e,i,n){"use strict";e.behaviors.photoComponent={attach:function(e,i){t(".paragraphs-item-photo").each(function(){t(this).find(".photo-details").length>0?t(this).addClass("with-details"):t(this).addClass("without-details")})}}}(jQuery,Drupal,this,this.document),function(t,e,i,n){"use strict";var s=100;t(".translate-trigger").on("click",function(e){e.preventDefault(),t(".popover").fadeToggle(s)}),t(n).click(function(e){return e.stopPropagation(),!t(e.target).is(".popover, .translate-trigger")&&void t(".popover").fadeOut(s)})}(jQuery,Drupal,this,this.document),function(t,e,i,n){"use strict";(t(".node-type-how-to").length||t(".node-type-tabbed-content").length)&&t("#breadcrumb").prependTo("article")}(jQuery,Drupal,this,this.document),function(t,e,i,n){"use strict";t("ul.content-section-tabs").length&&(t(function(){var e=i.location.hash;if(e){var n=e.replace("#","");t('div.tab-content[id="'+n+'"]').addClass("is-active"),t('ul.tabs li[data-tab="'+n+'"]').addClass("is-active")}else t("ul.content-section-tabs li").first().addClass("is-active").find("a").addClass("is-active"),t(".tab-content").first().addClass("is-active");location.hash&&setTimeout(function(){i.scrollTo(0,0)},1)}),t("ul.tabs li").click(function(){var e=t(this).attr("data-tab");t("ul.tabs li").removeClass("is-active").find("a").removeClass("is-active"),t(".tab-content").removeClass("is-active"),t(this).addClass("is-active").find("a").addClass("is-active"),t("#"+e).addClass("is-active")})),t("ul.content-section-tabs").length&&t("ul.content-section-tabs li a").on("click",function(t){t.preventDefault()})}(jQuery,Drupal,this,this.document),function(t,e,i,n){"use strict";if(t(".topic-nav").length){var s=t(".topic-nav ul");if(t.fn.createNavItem=function(){t(this).each(function(){var e=t(this).attr("name");if(e.length>0){var i=e;t(s).append('<li><a class="scroll-link-js" href="#'+i+'">'+t(this).data("text")+"</a></li>")}})},t(".subnav-anchor").length){t(".subnav-anchor").once("createNavItem").createNavItem(),t(".scroll-link-js").click(function(){var e=75;t(this).parents("nav").hasClass("sticky")||(e+=115),t("html, body").animate({scrollTop:t('[name="'+t.attr(this,"href").substr(1)+'"]').offset().top-e},1)}),t(".sub-nav-button, .sub-nav-trigger").on("click",function(){t(this).toggleClass("open"),t(".topic-nav").fadeToggle(300)}),t(i).resize(function(){t(i).width()>980&&t(".topic-nav").fadeIn(300)});var o=t(".topic-nav").css("margin-top"),a=parseInt(o,10),r=t(".topic-nav").offset().top-a,l=function(){var e=t(i).scrollTop();e>r?(t(".topic-nav").addClass("sticky"),t(".intro-content").addClass("nav-fill-margin")):(t(".topic-nav").removeClass("sticky"),t(".intro-content").removeClass("nav-fill-margin"))},c=function(){if("undefined"!=typeof pageYOffset)return pageYOffset;var t=n.body,e=n.documentElement;return e=e.clientHeight?e:t,e.scrollTop},d=n.querySelectorAll(".scroll-link-js"),u=Array.prototype.slice.call(d),h=u.map(function(t,e){return d[e].getAttribute("href")}),f=function(){var t=n.querySelectorAll(".scroll-link-js.is-active");if(t.length)for(var e in t)t[e]&&t[e].classList&&t[e].classList.remove("is-active")},p=function(){var t=c();t+=100;var e=h.filter(function(e){var i=e.replace("#",""),s=n.querySelectorAll("[name="+i+"]")[0],o=s?s.getBoundingClientRect().top+t-100:0;if(t>=o)return e});if(e.length){var i=e[e.length-1],s=n.querySelectorAll('.scroll-link-js[href="'+i+'"]')[0];s.classList.contains("is-active")?s||f():(f(),s.classList.add("is-active"))}else f()};t(i).scroll(function(){p(),l()})}t(".topic-nav li").length||(t(".topic-nav").remove(),t(".section-nav-button-container").remove(),t(".sub-nav-trigger").remove())}}(jQuery,Drupal,this,this.document),function(t,e,i,n){"use strict";e.behaviors.translations={attach:function(e,i){function n(){}function s(t){console.log("Error: "+t)}function o(){Microsoft.Translator.Widget.domTranslator.showHighlight=!1,Microsoft.Translator.Widget.domTranslator.showTooltips=!1,t(".tr-dd").hide()}function a(){}var r=t(".tr-dd-link"),l=t(".tr-link"),c=localStorage.getItem("language"),d=!1,u=function(t){localStorage.setItem("language",t)},h=function(t,e){Microsoft.Translator.Widget.Translate("en",t,n,s,o,a,2e3)},f=function(e){var i=e;d?i():t.ajax({url:"https://www.microsoftTranslator.com/ajax/v3/WidgetV3.ashx?siteData=ueOIGRSKkd965FeEGM5JtQ**",dataType:"script",timeout:2e3}).done(function(){t(".tr-dd-link--message").remove(),t(".tr-dd").addClass("tr-dd--loaded"),d=!0,i()}).fail(function(){t(".tr-dd-link--message").html("Translations are down temporarily.")})};l.on("click",function(e){e.preventDefault(),t(".tr-dd").toggle(),f(function(){})}),r.click(function(e){e.preventDefault();var i=t(this),n=i.data("ln");u(n),h(n,i),t(".tr-dd").hide(),"en"!==n?t(".tr-dd-link--hidden").show():t(".tr-dd-link--hidden").hide()}),c&&"en"!==c&&f(function(){h(c),"en"!==c?t(".tr-dd-link--hidden").show():t(".tr-dd-link--hidden").hide()}),t(".tr").addClass("tr--visible")}}}(jQuery,Drupal,this,this.document),function(t,e,i){function n(t,e){return typeof t===e}function s(){var t,e,i,s,o,a,r;for(var l in w)if(w.hasOwnProperty(l)){if(t=[],e=w[l],e.name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(i=0;i<e.options.aliases.length;i++)t.push(e.options.aliases[i].toLowerCase());for(s=n(e.fn,"function")?e.fn():e.fn,o=0;o<t.length;o++)a=t[o],r=a.split("."),1===r.length?b[r[0]]=s:(!b[r[0]]||b[r[0]]instanceof Boolean||(b[r[0]]=new Boolean(b[r[0]])),b[r[0]][r[1]]=s),y.push((s?"":"no-")+r.join("-"))}}function o(t){var e=x.className,i=b._config.classPrefix||"";if(C&&(e=e.baseVal),b._config.enableJSClass){var n=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");e=e.replace(n,"$1"+i+"js$2")}b._config.enableClasses&&(e+=" "+i+t.join(" "+i),C?x.className.baseVal=e:x.className=e)}function a(t,e){return!!~(""+t).indexOf(e)}function r(){return"function"!=typeof e.createElement?e.createElement(arguments[0]):C?e.createElementNS.call(e,"http://www.w3.org/2000/svg",arguments[0]):e.createElement.apply(e,arguments)}function l(t){return t.replace(/([a-z])-([a-z])/g,function(t,e,i){return e+i.toUpperCase()}).replace(/^-/,"")}function c(t,e){return function(){return t.apply(e,arguments)}}function d(t,e,i){var s;for(var o in t)if(t[o]in e)return i===!1?t[o]:(s=e[t[o]],n(s,"function")?c(s,i||e):s);return!1}function u(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-")}function h(){var t=e.body;return t||(t=r(C?"svg":"body"),t.fake=!0),t}function f(t,i,n,s){var o,a,l,c,d="modernizr",u=r("div"),f=h();if(parseInt(n,10))for(;n--;)l=r("div"),l.id=s?s[n]:d+(n+1),u.appendChild(l);return o=r("style"),o.type="text/css",o.id="s"+d,(f.fake?f:u).appendChild(o),f.appendChild(u),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(e.createTextNode(t)),u.id=d,f.fake&&(f.style.background="",f.style.overflow="hidden",c=x.style.overflow,x.style.overflow="hidden",x.appendChild(f)),a=i(u,t),f.fake?(f.parentNode.removeChild(f),x.style.overflow=c,x.offsetHeight):u.parentNode.removeChild(u),!!a}function p(e,n){var s=e.length;if("CSS"in t&&"supports"in t.CSS){for(;s--;)if(t.CSS.supports(u(e[s]),n))return!0;return!1}if("CSSSupportsRule"in t){for(var o=[];s--;)o.push("("+u(e[s])+":"+n+")");return o=o.join(" or "),f("@supports ("+o+") { #modernizr { position: absolute; } }",function(t){return"absolute"==getComputedStyle(t,null).position})}return i}function v(t,e,s,o){function c(){u&&(delete q.style,delete q.modElem)}if(o=!n(o,"undefined")&&o,!n(s,"undefined")){var d=p(t,s);if(!n(d,"undefined"))return d}for(var u,h,f,v,m,g=["modernizr","tspan"];!q.style;)u=!0,q.modElem=r(g.shift()),q.style=q.modElem.style;for(f=t.length,h=0;h<f;h++)if(v=t[h],m=q.style[v],a(v,"-")&&(v=l(v)),q.style[v]!==i){if(o||n(s,"undefined"))return c(),"pfx"!=e||v;try{q.style[v]=s}catch(y){}if(q.style[v]!=m)return c(),"pfx"!=e||v}return c(),!1}function m(t,e,i,s,o){var a=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+T.join(a+" ")+a).split(" ");return n(e,"string")||n(e,"undefined")?v(r,e,s,o):(r=(t+" "+$.join(a+" ")+a).split(" "),d(r,e,i))}function g(t,e,n){return m(t,i,i,e,n)}var y=[],w=[],_={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var i=this;setTimeout(function(){e(i[t])},0)},addTest:function(t,e,i){w.push({name:t,fn:e,options:i})},addAsyncTest:function(t){w.push({name:null,fn:t})}},b=function(){};b.prototype=_,b=new b;var x=e.documentElement,C="svg"===x.nodeName.toLowerCase(),k="Moz O ms Webkit",$=_._config.usePrefixes?k.toLowerCase().split(" "):[];_._domPrefixes=$;var T=_._config.usePrefixes?k.split(" "):[];_._cssomPrefixes=T;var D={elem:r("modernizr")};b._q.push(function(){delete D.elem});var q={style:D.elem.style};b._q.unshift(function(){delete q.style}),_.testAllProps=m,_.testAllProps=g,b.addTest("flexbox",g("flexBasis","1px",!0)),s(),o(y),delete _.addTest,delete _.addAsyncTest;for(var S=0;S<b._q.length;S++)b._q[S]();t.Modernizr=b}(window,document),function(t,e,i){void 0!==Modernizr&&Modernizr.flexbox!==!0&&t(".grid-card").addClass("no-flex")}(jQuery,this,this.document),window.matchMedia||(window.matchMedia=function(t){var e=t.document,i=e.documentElement,n=[],s=0,o="",a={},r=/\s*(only|not)?\s*(screen|print|[a-z\-]+)\s*(and)?\s*/i,l=/^\s*\(\s*(-[a-z]+-)?(min-|max-)?([a-z\-]+)\s*(:?\s*([0-9]+(\.[0-9]+)?|portrait|landscape)(px|em|dppx|dpcm|rem|%|in|cm|mm|ex|pt|pc|\/([0-9]+(\.[0-9]+)?))?)?\s*\)\s*$/,c=0,d=function(t){var e=-1!==t.indexOf(",")&&t.split(",")||[t],i=e.length-1,n=i,s=null,c=null,d="",u=0,h=!1,f="",p="",s=null,c=0,p=null,v="",m="",g="",y="",w="",v=!1;if(""===t)return!0;do if(s=e[n-i],h=!1,(c=s.match(r))&&(d=c[0],u=c.index),!c||-1===s.substring(0,u).indexOf("(")&&(u||!c[3]&&d!==c.input))v=!1;else{if(p=s,h="not"===c[1],u||(f=c[2],p=s.substring(d.length)),v=f===o||"all"===f||""===f,s=-1!==p.indexOf(" and ")&&p.split(" and ")||[p],c=s.length-1,v&&0<=c&&""!==p)do{if(p=s[c].match(l),!p||!a[p[3]]){v=!1;break}if(v=p[2],y=m=p[5],g=p[7],w=a[p[3]],g&&(y="px"===g?Number(m):"em"===g||"rem"===g?16*m:p[8]?(m/p[8]).toFixed(2):"dppx"===g?96*m:"dpcm"===g?.3937*m:Number(m)),v="min-"===v&&y?w>=y:"max-"===v&&y?w<=y:y?w===y:!!w,!v)break}while(c--);if(v)break}while(i--);return h?!v:v},u=function(){var e=t.innerWidth||i.clientWidth,n=t.innerHeight||i.clientHeight,s=t.screen.width,o=t.screen.height,r=t.screen.colorDepth,l=t.devicePixelRatio;a.width=e,a.height=n,a["aspect-ratio"]=(e/n).toFixed(2),a["device-width"]=s,a["device-height"]=o,a["device-aspect-ratio"]=(s/o).toFixed(2),a.color=r,a["color-index"]=Math.pow(2,r),a.orientation=n>=e?"portrait":"landscape",a.resolution=l&&96*l||t.screen.deviceXDPI||96,a["device-pixel-ratio"]=l||1},h=function(){clearTimeout(c),c=setTimeout(function(){var e=null,i=s-1,o=i,a=!1;if(0<=i){u();do if((e=n[o-i])&&((a=d(e.mql.media))&&!e.mql.matches||!a&&e.mql.matches)&&(e.mql.matches=a,e.listeners))for(var a=0,r=e.listeners.length;a<r;a++)e.listeners[a]&&e.listeners[a].call(t,e.mql);while(i--)}},10)},f=e.getElementsByTagName("head")[0],e=e.createElement("style"),p=null,v="screen print speech projection handheld tv braille embossed tty".split(" "),m=0,g=v.length,y="#mediamatchjs { position: relative; z-index: 0; }",w="",_=t.addEventListener||(w="on")&&t.attachEvent;for(e.type="text/css",e.id="mediamatchjs",f.appendChild(e),p=t.getComputedStyle&&t.getComputedStyle(e)||e.currentStyle;m<g;m++)y+="@media "+v[m]+" { #mediamatchjs { position: relative; z-index: "+m+" } }";return e.styleSheet?e.styleSheet.cssText=y:e.textContent=y,o=v[1*p.zIndex||0],f.removeChild(e),u(),_(w+"resize",h),_(w+"orientationchange",h),function(t){var e=s,i={matches:!1,media:t,addListener:function(t){n[e].listeners||(n[e].listeners=[]),t&&n[e].listeners.push(t)},removeListener:function(t){var i=n[e],s=0,o=0;if(i)for(o=i.listeners.length;s<o;s++)i.listeners[s]===t&&i.listeners.splice(s,1)}};return""===t?(i.matches=!0,i):(i.matches=d(t),s=n.push({mql:i,listeners:null}),i)}}(window)),!function(t,e,i){var n=window.matchMedia;"undefined"!=typeof module&&module.exports?module.exports=i(n):"function"==typeof define&&define.amd?define(function(){return e[t]=i(n)}):e[t]=i(n)}("enquire",this,function(t){"use strict";function e(t,e){var i,n=0,s=t.length;for(n;s>n&&(i=e(t[n],n),i!==!1);n++);}function i(t){return"[object Array]"===Object.prototype.toString.apply(t)}function n(t){return"function"==typeof t}function s(t){this.options=t,!t.deferSetup&&this.setup()}function o(e,i){this.query=e,this.isUnconditional=i,this.handlers=[],this.mql=t(e);var n=this;this.listener=function(t){n.mql=t,n.assess()},this.mql.addListener(this.listener)}function a(){if(!t)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!t("only all").matches}return s.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(t){return this.options===t||this.options.match===t}},o.prototype={addHandler:function(t){var e=new s(t);this.handlers.push(e),this.matches()&&e.on()},removeHandler:function(t){var i=this.handlers;e(i,function(e,n){return e.equals(t)?(e.destroy(),!i.splice(n,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(t){t.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var t=this.matches()?"on":"off";e(this.handlers,function(e){e[t]()})}},a.prototype={register:function(t,s,a){var r=this.queries,l=a&&this.browserIsIncapable;return r[t]||(r[t]=new o(t,l)),n(s)&&(s={match:s}),i(s)||(s=[s]),e(s,function(e){n(e)&&(e={match:e}),r[t].addHandler(e)}),this},unregister:function(t,e){var i=this.queries[t];return i&&(e?i.removeHandler(e):(i.clear(),delete this.queries[t])),this}},new a}),function(t,e,i,n){void 0!==i.enquire&&(t.fn.transposeHorizontal=function(){var e=t(this),i=t("<table><thead><tr></tr></thead><tbody></tbody></table>"),n=[];t("th",this).each(function(){t("thead > tr",i).append("<th>"+this.innerHTML+"</th>")}),e.find("tbody > tr").each(function(){var e=0;t(this).find("td").each(function(){void 0===n[e]&&(n[e]=t("<tr></tr>")),n[e++].append(t(this))})}),t.each(n,function(){t("tbody",i).append(this)}),e.addClass("responsive-table responsive-table--vertical transposed"),e.html(i.html())},t.fn.transposeVertical=function(){var e=t(this),i=t("<table><tbody></tbody></table>"),n=[];e.find("tbody > tr").each(function(){var e=0;t(this).find("td").each(function(){void 0===n[e]&&(n[e]=t("<tr></tr>")),n[e++].append(t(this))})}),e.find("th").each(function(t,e){n[t].prepend(this)}),t.each(n,function(){t("tbody",i).append(this)}),e.removeClass("transposed"),e.addClass("responsive-table responsive-table--vertical"),e.html(i.html())})}(jQuery,Drupal,this,this.document),!function(){"use strict";var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},e=window.Circles=function(t){var e=t.id;if(this._el=document.getElementById(e),null!==this._el){this._radius=t.radius||10,this._duration=void 0===t.duration?500:t.duration,this._value=0,this._maxValue=t.maxValue||100,this._text=void 0===t.text?function(t){return this.htmlifyNumber(t)}:t.text,this._strokeWidth=t.width||10,this._colors=t.colors||["#EEE","#F00"],this._svg=null,this._movingPath=null,this._wrapContainer=null,this._textContainer=null,this._wrpClass=t.wrpClass||"circles-wrp",this._textClass=t.textClass||"circles-text",this._valClass=t.valueStrokeClass||"circles-valueStroke",this._maxValClass=t.maxValueStrokeClass||"circles-maxValueStroke",this._styleWrapper=t.styleWrapper!==!1,this._styleText=t.styleText!==!1;var i=Math.PI/180*270;this._start=-Math.PI/180*90,this._startPrecise=this._precise(this._start),this._circ=i-this._start,this._generate().update(t.value||0)}};e.prototype={VERSION:"0.0.6",_generate:function(){return this._svgSize=2*this._radius,this._radiusAdjusted=this._radius-this._strokeWidth/2,this._generateSvg()._generateText()._generateWrapper(),this._el.innerHTML="",this._el.appendChild(this._wrapContainer),this},_setPercentage:function(t){this._movingPath.setAttribute("d",this._calculatePath(t,!0)),this._textContainer.innerHTML=this._getText(this.getValueFromPercent(t))},_generateWrapper:function(){return this._wrapContainer=document.createElement("div"),this._wrapContainer.className=this._wrpClass,this._styleWrapper&&(this._wrapContainer.style.position="relative",this._wrapContainer.style.display="inline-block"),this._wrapContainer.appendChild(this._svg),this._wrapContainer.appendChild(this._textContainer),this},_generateText:function(){if(this._textContainer=document.createElement("div"),this._textContainer.className=this._textClass,this._styleText){var t={position:"absolute",top:0,left:0,textAlign:"center",width:"100%",fontSize:.7*this._radius+"px",height:this._svgSize+"px",lineHeight:this._svgSize+"px"};for(var e in t)this._textContainer.style[e]=t[e]}return this._textContainer.innerHTML=this._getText(0),this},_getText:function(t){return this._text?(void 0===t&&(t=this._value),t=parseFloat(t.toFixed(2)),"function"==typeof this._text?this._text.call(this,t):this._text):""},_generateSvg:function(){return this._svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._svg.setAttribute("xmlns","http://www.w3.org/2000/svg"),this._svg.setAttribute("width",this._svgSize),this._svg.setAttribute("height",this._svgSize),this._generatePath(100,!1,this._colors[0],this._maxValClass)._generatePath(1,!0,this._colors[1],this._valClass),this._movingPath=this._svg.getElementsByTagName("path")[1],this},_generatePath:function(t,e,i,n){var s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("fill","transparent"),s.setAttribute("stroke",i),s.setAttribute("stroke-width",this._strokeWidth),s.setAttribute("d",this._calculatePath(t,e)),s.setAttribute("class",n),this._svg.appendChild(s),this},_calculatePath:function(t,e){var i=this._start+t/100*this._circ,n=this._precise(i);return this._arc(n,e)},_arc:function(t,e){var i=t-.001,n=t-this._startPrecise<Math.PI?0:1;return["M",this._radius+this._radiusAdjusted*Math.cos(this._startPrecise),this._radius+this._radiusAdjusted*Math.sin(this._startPrecise),"A",this._radiusAdjusted,this._radiusAdjusted,0,n,1,this._radius+this._radiusAdjusted*Math.cos(i),this._radius+this._radiusAdjusted*Math.sin(i),e?"":"Z"].join(" ")},_precise:function(t){return Math.round(1e3*t)/1e3},htmlifyNumber:function(t,e,i){e=e||"circles-integer",i=i||"circles-decimals";var n=(t+"").split("."),s='<span class="'+e+'">'+n[0]+"</span>";return n.length>1&&(s+='.<span class="'+i+'">'+n[1].substring(0,2)+"</span>"),s},updateRadius:function(t){return this._radius=t,this._generate().update(!0)},updateWidth:function(t){return this._strokeWidth=t,this._generate().update(!0)},updateColors:function(t){this._colors=t;var e=this._svg.getElementsByTagName("path");return e[0].setAttribute("stroke",t[0]),e[1].setAttribute("stroke",t[1]),this},getPercent:function(){return 100*this._value/this._maxValue},getValueFromPercent:function(t){return this._maxValue*t/100},getValue:function(){return this._value},getMaxValue:function(){return this._maxValue},update:function(e,i){if(e===!0)return this._setPercentage(this.getPercent()),this;if(this._value==e||isNaN(e))return this;void 0===i&&(i=this._duration);var n,s,o,a,r=this,l=r.getPercent(),c=1;return this._value=Math.min(this._maxValue,Math.max(0,e)),i?(n=r.getPercent(),s=n>l,c+=n%1,o=Math.floor(Math.abs(n-l)/c),a=i/o,function d(e){if(s?l+=c:l-=c,s&&l>=n||!s&&n>=l)return void t(function(){r._setPercentage(n)});t(function(){r._setPercentage(l)});var i=Date.now(),o=i-e;o>=a?d(i):setTimeout(function(){d(Date.now())},a-o)}(Date.now()),this):(this._setPercentage(this.getPercent()),this)}},e.create=function(t){return new e(t)}}(),function(t){function e(){this.isField=!0,this.keyboardMode=this.hasLabel=this.cutOff=this.disabled=this.inFocus=this.down=!1,this.nativeTouch=!0,this.wrapperClass="dropdown",this.onChange=null}e.prototype={constructor:e,instances:{},init:function(e,i){var n=this;t.extend(n,i),n.$select=t(e),n.id=e.id,n.options=[],n.$options=n.$select.find("option"),n.isTouch="ontouchend"in document,n.$select.removeClass(n.wrapperClass+" dropdown"),n.$select.is(":disabled")&&(n.disabled=!0),n.$options.length&&(n.$options.each(function(e){var i=t(this);i.is(":selected")&&(n.selected={index:e,title:i.text()},n.focusIndex=e),i.hasClass("label")&&0==e?(n.hasLabel=!0,n.label=i.text(),i.attr("value","")):n.options.push({domNode:i[0],title:i.text(),value:i.val(),selected:i.is(":selected")})}),n.selected||(n.selected={index:0,title:n.$options.eq(0).text()},n.focusIndex=0),n.render())},render:function(){var e=this;e.$container=e.$select.wrap('<div class="'+e.wrapperClass+(e.isTouch&&e.nativeTouch?" touch":"")+(e.disabled?" disabled":"")+'"><span class="old"/></div>').parent().parent(),e.$active=t('<span class="selected">'+e.selected.title+"</span>").appendTo(e.$container),e.$carat=t('<span class="carat"/>').appendTo(e.$container),e.$scrollWrapper=t("<div><ul/></div>").appendTo(e.$container),e.$dropDown=e.$scrollWrapper.find("ul"),e.$form=e.$container.closest("form"),t.each(e.options,function(){e.$dropDown.append("<li"+(this.selected?' class="active"':"")+">"+this.title+"</li>")}),e.$items=e.$dropDown.find("li"),e.cutOff&&e.$items.length>e.cutOff&&e.$container.addClass("scrollable"),e.getMaxHeight(),e.isTouch&&e.nativeTouch?e.bindTouchHandlers():e.bindHandlers()},getMaxHeight:function(){for(i=this.maxHeight=0;i<this.$items.length;i++){var t=this.$items.eq(i);if(this.maxHeight+=t.outerHeight(),this.cutOff==i+1)break}},bindTouchHandlers:function(){var e=this;e.$container.on("click.easyDropDown",function(){e.$select.focus()}),e.$select.on({change:function(){var i=t(this).find("option:selected"),n=i.text(),i=i.val();e.$active.text(n),"function"==typeof e.onChange&&e.onChange.call(e.$select[0],{title:n,value:i})},focus:function(){e.$container.addClass("focus")},blur:function(){e.$container.removeClass("focus")}})},bindHandlers:function(){var e=this;e.query="",e.$container.on({"click.easyDropDown":function(){e.down||e.disabled?e.close():e.open()},"mousemove.easyDropDown":function(){e.keyboardMode&&(e.keyboardMode=!1)}}),t("body").on("click.easyDropDown."+e.id,function(i){i=t(i.target);var n=e.wrapperClass.split(" ").join(".");!i.closest("."+n).length&&e.down&&e.close()}),e.$items.on({"click.easyDropDown":function(){var i=t(this).index();e.select(i),e.$select.focus()},"mouseover.easyDropDown":function(){if(!e.keyboardMode){var i=t(this);i.addClass("focus").siblings().removeClass("focus"),e.focusIndex=i.index()}},"mouseout.easyDropDown":function(){e.keyboardMode||t(this).removeClass("focus")}}),e.$select.on({"focus.easyDropDown":function(){e.$container.addClass("focus"),e.inFocus=!0},"blur.easyDropDown":function(){e.$container.removeClass("focus"),e.inFocus=!1},"keydown.easyDropDown":function(t){if(e.inFocus){e.keyboardMode=!0;var i=t.keyCode;if(38!=i&&40!=i&&32!=i||(t.preventDefault(),38==i?(e.focusIndex--,e.focusIndex=0>e.focusIndex?e.$items.length-1:e.focusIndex):40==i&&(e.focusIndex++,e.focusIndex=e.focusIndex>e.$items.length-1?0:e.focusIndex),e.down||e.open(),e.$items.removeClass("focus").eq(e.focusIndex).addClass("focus"),e.cutOff&&e.scrollToView(),e.query=""),e.down)if(9==i||27==i)e.close();else{if(13==i)return t.preventDefault(),e.select(e.focusIndex),e.close(),!1;if(8==i)return t.preventDefault(),e.query=e.query.slice(0,-1),e.search(),clearTimeout(e.resetQuery),!1;38!=i&&40!=i&&(t=String.fromCharCode(i),e.query+=t,e.search(),clearTimeout(e.resetQuery))}}},"keyup.easyDropDown":function(){e.resetQuery=setTimeout(function(){e.query=""},1200)}}),e.$dropDown.on("scroll.easyDropDown",function(t){e.$dropDown[0].scrollTop>=e.$dropDown[0].scrollHeight-e.maxHeight?e.$container.addClass("bottom"):e.$container.removeClass("bottom")}),e.$form.length&&e.$form.on("reset.easyDropDown",function(){e.$active.text(e.hasLabel?e.label:e.options[0].title)})},unbindHandlers:function(){this.$container.add(this.$select).add(this.$items).add(this.$form).add(this.$dropDown).off(".easyDropDown"),t("body").off("."+this.id)},open:function(){var t=window.scrollY||document.documentElement.scrollTop,e=window.scrollX||document.documentElement.scrollLeft,i=this.notInViewport(t);this.closeAll(),this.getMaxHeight(),this.$select.focus(),window.scrollTo(e,t+i),this.$container.addClass("open"),this.$scrollWrapper.css("height",this.maxHeight+"px"),this.down=!0},close:function(){this.$container.removeClass("open"),this.$scrollWrapper.css("height","0px"),this.focusIndex=this.selected.index,this.query="",this.down=!1},closeAll:function(){var t,e=Object.getPrototypeOf(this).instances;for(t in e)e[t].close()},select:function(t){"string"==typeof t&&(t=this.$select.find("option[value="+t+"]").index()-1);var e=this.options[t],n=this.hasLabel?t+1:t;this.$items.removeClass("active").eq(t).addClass("active"),this.$active.text(e.title),this.$select.find("option").removeAttr("selected").eq(n).prop("selected",!0).parent().trigger("change"),this.selected={index:t,title:e.title},this.focusIndex=i,"function"==typeof this.onChange&&this.onChange.call(this.$select[0],{title:e.title,value:e.value})},search:function(){var t=this,e=function(e){t.focusIndex=e,t.$items.removeClass("focus").eq(t.focusIndex).addClass("focus"),t.scrollToView()};for(i=0;i<t.options.length;i++){var n=t.options[i].title.toUpperCase();if(0==n.indexOf(t.query))return void e(i)}for(i=0;i<t.options.length;i++)if(n=t.options[i].title.toUpperCase(),-1<n.indexOf(t.query)){e(i);break}},scrollToView:function(){if(this.focusIndex>=this.cutOff){var t=this.$items.eq(this.focusIndex).outerHeight()*(this.focusIndex+1)-this.maxHeight;this.$dropDown.scrollTop(t)}},notInViewport:function(t){var e=t+(window.innerHeight||document.documentElement.clientHeight),i=this.$dropDown.offset().top+this.maxHeight;return i>=t&&i<=e?0:i-e+5},destroy:function(){this.unbindHandlers(),this.$select.unwrap().siblings().remove(),this.$select.unwrap(),delete Object.getPrototypeOf(this).instances[this.$select[0].id]},disable:function(){this.disabled=!0,this.$container.addClass("disabled"),this.$select.attr("disabled",!0),this.down||this.close()},enable:function(){this.disabled=!1,this.$container.removeClass("disabled"),this.$select.attr("disabled",!1)}};var n=function(t,i){t.id=t.id?t.id:"EasyDropDown"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase();var n=new e;n.instances[t.id]||(n.instances[t.id]=n,n.init(t,i))};t.fn.easyDropDown=function(){var t,i=arguments,s=[];return t=this.each(function(){if(i&&"string"==typeof i[0]){var t=e.prototype.instances[this.id][i[0]](i[1],i[2]);t&&s.push(t)}else n(this,i[0])}),s.length?1<s.length?s:s[0]:t},t(function(){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(t){return t.__proto__}:function(t){return t.constructor.prototype}),t("select.dropdown").each(function(){var e=t(this).attr("data-settings");settings=e?t.parseJSON(e):{},n(this,settings)})})}(jQuery);